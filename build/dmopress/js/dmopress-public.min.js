function fetchCurrentWeather(){jQuery.ajax({url:"http://api.openweathermap.org/data/2.5/weather?id="+injectedContent.openWeatherMapCityId+"&units=metric&APPID="+injectedContent.openWeatherMapAPIKey,type:"GET",dataType:"jsonp",contentType:"application/json; charset=utf-8",success:function(e,t,n){updateWeatherInlineWidgets(e)},error:function(e,t,n){console.log("OpenWeatherMap API Error."),jQuery(".weather-inline").hide()}})}function updateWeatherInlineWidgets(e){jQuery(".weather-inline").each(function(t){var n=jQuery(this).data("unit"),a=e.main.temp,r=e.weather[0].id;jQuery(this).html('<i class="wi wi-owm-'+r+'"></i>&nbsp; '+formatTemperature(a,n))})}function formatTemperature(e,t){void 0===t&&(t=injectedContent.openWeatherMapDefaultUnit);var n,a=1.8*e+32;switch(t){case"cf":n=Math.round(e)+"&deg;C / "+Math.round(a)+"&deg;F";break;case"fc":n=Math.round(a)+"&deg;F / "+Math.round(e)+"&deg;C";break;case"c":n=Math.round(e)+"&deg;C";break;case"f":n=Math.round(a)+"&deg;F";break;default:n=Math.round(e)+"&deg;C / "+Math.round(a)+"&deg;F"}return n}jQuery(document).ready(function(e){jQuery(".weather-inline").length&&fetchCurrentWeather()});